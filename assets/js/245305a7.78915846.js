(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[930],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return p},kt:function(){return h}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=u(n),h=r,m=d["".concat(s,".").concat(h)]||d[h]||c[h]||i;return n?a.createElement(m,o(o({ref:t},p),{},{components:n})):a.createElement(m,o({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var u=2;u<i;u++)o[u]=n[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4420:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return p},default:function(){return d}});var a=n(2122),r=n(9756),i=(n(7294),n(3905)),o=["components"],l={sidebar_position:6},s="Pulling features",u={unversionedId:"pulling-features",id:"pulling-features",isDocsHomePage:!1,title:"Pulling features",description:"The aim of Dentest is to help you go to a more behavior driven approach, by letting non-developers use the web",source:"@site/docs/pulling-features.md",sourceDirName:".",slug:"/pulling-features",permalink:"/pulling-features",version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Synchronizing the feature with an issue tracker",permalink:"/writing-features/synchronizing-with-issue-tracker"}},p=[{value:"Before your first pull",id:"before-your-first-pull",children:[{value:"Retrieving your token",id:"retrieving-your-token",children:[]},{value:"Refreshing the pull token",id:"refreshing-the-pull-token",children:[]}]},{value:"Pulling",id:"pulling",children:[{value:"Using the JetBrains plugin",id:"using-the-jetbrains-plugin",children:[]},{value:"Using the Dentest CLI",id:"using-the-dentest-cli",children:[]}]}],c={toc:p};function d(e){var t=e.components,l=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},c,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"pulling-features"},"Pulling features"),(0,i.kt)("p",null,"The aim of Dentest is to help you go to a more behavior driven approach, by letting non-developers use the web\nplatform, and letting developers retrieve everything that has been created, inside the technical project."),(0,i.kt)("p",null,"How we see the developers journey:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Pulling the features from Dentest (Gherkin files will be created in the root directory of their choice, following the\ntree that has been defined on Dentest)"),(0,i.kt)("li",{parentName:"ul"},"Implementing the missing steps so that the Gherkin interpreter can match a step to a piece of code"),(0,i.kt)("li",{parentName:"ul"},"Implementing the feature to make the tests pass"),(0,i.kt)("li",{parentName:"ul"},"Pushing this work on the versioning tool, so that the CI can run the Gherkin features as tests"),(0,i.kt)("li",{parentName:"ul"},"Deploying once everything is good")),(0,i.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"You can only pull the features that aren't in Draft mode "))),(0,i.kt)("h2",{id:"before-your-first-pull"},"Before your first pull"),(0,i.kt)("h3",{id:"retrieving-your-token"},"Retrieving your token"),(0,i.kt)("p",null,"A token must be gathered in order to pull the features. This token is ",(0,i.kt)("strong",{parentName:"p"},"yours"),", and only works for ",(0,i.kt)("strong",{parentName:"p"},"this project"),".\nSo, do not commit it."),(0,i.kt)("p",null,"To retrieve the token, login to Dentest, and go to the project's root page."),(0,i.kt)("p",null,'Click on the "Show pull token" button (you must have pull rights to see it).'),(0,i.kt)("p",null,'A dialog will open, with your token in it. Copy it (or click the "Copy" button).'),(0,i.kt)("h3",{id:"refreshing-the-pull-token"},"Refreshing the pull token"),(0,i.kt)("p",null,'If your token has been compromised, or just to change it, you can also do it from Dentest. Follow the same steps than for\nthe token retrieval, and instead copying the token, just click on the "Regenerate" button.'),(0,i.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"The previous token will be revoked, you won't be able to use it after this action "))),(0,i.kt)("h2",{id:"pulling"},"Pulling"),(0,i.kt)("h3",{id:"using-the-jetbrains-plugin"},"Using the JetBrains plugin"),(0,i.kt)("iframe",{width:"245px",height:"48px",src:"https://plugins.jetbrains.com/embeddable/install/19626"}),(0,i.kt)("p",null,'If you are using an IDE from the Jetbrains suite, there is a plugin that you can use. Just search for "Dentest" in the Marketplace.'),(0,i.kt)("h4",{id:"first-pull-and-configuration"},"First pull and configuration"),(0,i.kt)("p",null,'First of, you can run Dentest from the newly created menu entry, or using the "Dentest pull" shortcut in the toolbar (a blue arrow).'),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(2787).Z})),(0,i.kt)("p",null,'At the first pull, or if you run "Configuration", you will see the following dialog:'),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(7774).Z})),(0,i.kt)("p",null,"Here, you can provide the following information:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Property"),(0,i.kt)("th",{parentName:"tr",align:null},"Explanation"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Dentest API"),(0,i.kt)("td",{parentName:"tr",align:null},"The URL of the Dentest API. If you are using dentest.tech, let it as is. For a custom install, provide your own API URL.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Dentest Pull Token"),(0,i.kt)("td",{parentName:"tr",align:null},"The token you just created from the web interface")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Features destination"),(0,i.kt)("td",{parentName:"tr",align:null},"The directory where you want the features to be created")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Inline param wrapping string"),(0,i.kt)("td",{parentName:"tr",align:null},"The string used to surroung step sentences inlined parameters")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Subsequent script"),(0,i.kt)("td",{parentName:"tr",align:null},"If you want to run a post-pull command, specify it here")))),(0,i.kt)("h4",{id:"pull"},"Pull"),(0,i.kt)("p",null,"Once everything's settled, when pulling, you'll see a list containing all your features ",(0,i.kt)("strong",{parentName:"p"},"that aren't in Draft mode"),". Just select the ones you want to pull and the files will\nbe created in the directory you specified."),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(5991).Z})),(0,i.kt)("h3",{id:"using-the-dentest-cli"},"Using the Dentest CLI"),(0,i.kt)("h4",{id:"getting-the-dentest-cli"},"Getting the Dentest CLI"),(0,i.kt)("p",null,"Look for the Dentest CLI's releases on Github: ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/dentest-project/cli/releases"},"https://github.com/dentest-project/cli/releases"),"\nIn the latest release, download the binary that corresponds to your OS (you can choose between Mac OS or Linux (AMD64))."),(0,i.kt)("p",null,"If your OS or architecture is not in the list, just clone the project and build it using Rust Cargo (",(0,i.kt)("inlineCode",{parentName:"p"},"cargo build --release"),")."),(0,i.kt)("p",null,"Then, rename the binary to ",(0,i.kt)("inlineCode",{parentName:"p"},"dentest"),". If you're on a UNIX-based system, like Mac OS or Linux, just move the renamed\nbinary to ",(0,i.kt)("inlineCode",{parentName:"p"},"/usr/local/bin/dentest")),(0,i.kt)("h4",{id:"preparing-the-project"},"Preparing the project"),(0,i.kt)("p",null,"A ",(0,i.kt)("inlineCode",{parentName:"p"},".dentest.yml")," file must be created at the root of the project. It can be a different name, we'll see that later, but\nthis one is handled by default."),(0,i.kt)("p",null,"This file must contain the directory in which you want to pull the Gherkin files, and can also contain\na wrapper for inline step parameters (such as quotes)."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"dir: features # Mandatory. The folder in which you want to pull the features\ninline_parameter_wrapper: '\"' # Optional. The string that will surround the inline parameters of your features steps\n")),(0,i.kt)("p",null,"Then, set the token as an environment variable named ",(0,i.kt)("inlineCode",{parentName:"p"},"DENTEST_TOKEN"),", or in a ",(0,i.kt)("inlineCode",{parentName:"p"},".env")," file at the root of your project."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-dotenv"},"#.env\nDENTEST_TOKEN=1ebea2f2-4d36-6938-aa2f-fb602817e47e\n")),(0,i.kt)("h4",{id:"pulling-the-features"},"Pulling the features"),(0,i.kt)("p",null,"Just run"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"dentest pull\n")),(0,i.kt)("p",null,"If you couldn't set the token as an env var or in a ",(0,i.kt)("inlineCode",{parentName:"p"},".env")," file, you can also run ",(0,i.kt)("inlineCode",{parentName:"p"},"dentest")," this way:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"DENTEST_TOKEN=1ebea2f2-4d36-6938-aa2f-fb602817e47e dentest pull\n")),(0,i.kt)("p",null,"All the features ",(0,i.kt)("strong",{parentName:"p"},"that aren't in ",(0,i.kt)("inlineCode",{parentName:"strong"},"Draft")," mode")," will be pulled inside your project. You can start implementing them!"),(0,i.kt)("h4",{id:"using-a-different-name-for-the-configuration-file"},"Using a different name for the configuration file"),(0,i.kt)("p",null,"As said earlier, you can choose a different name for the configuration file, in replacement of ",(0,i.kt)("inlineCode",{parentName:"p"},".dentest.yml"),".\nIf you decide to do so, just pass an option to ",(0,i.kt)("inlineCode",{parentName:"p"},"dentest")," when pulling:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"dentest -c ./specs.yml pull\n")),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"It can have a different name, but it must be YAML file"))))}d.isMDXComponent=!0},7774:function(e,t,n){"use strict";t.Z=n.p+"assets/images/jetbrains-config-37a796579170d439be54d13347962dfd.png"},2787:function(e,t,n){"use strict";t.Z=n.p+"assets/images/jetbrains-menu-99d9f5d23ab7f96862a3a7e2ac886e44.png"},5991:function(e,t,n){"use strict";t.Z=n.p+"assets/images/jetbrains-pull-ab236d23fb80fc9fcc8d962024546035.png"}}]);